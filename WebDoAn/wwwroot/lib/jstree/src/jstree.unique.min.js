/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/jstree@3.3.16/src/jstree.unique.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define("jstree.unique",["jquery","./jstree.js"],e):"object"==typeof exports?e(require("jquery"),require("./jstree.js")):e(jQuery,jQuery.jstree)}((function(e,i,t){"use strict";e.jstree.plugins.unique||(e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,i){return e+" ("+i+")"}},e.jstree.plugins.unique=function(i,r){this.check=function(i,t,s,n,a){if(!1===r.check.call(this,i,t,s,n,a))return!1;if(t=t&&(t.id||0===t.id)?t:this.get_node(t),!(s=s&&(s.id||0===s.id)?s:this.get_node(s))||!s.children)return!0;var u,d,o,c="rename_node"===i?n:t.text,h=[],l=this.settings.unique.case_sensitive,F=this.settings.unique.trim_whitespace,_=this._model.data;for(u=0,d=s.children.length;u<d;u++)o=_[s.children[u]].text,l||(o=o.toLowerCase()),F&&(o=o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(o);switch(l||(c=c.toLowerCase()),F&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),i){case"delete_node":return!0;case"rename_node":return o=t.text||"",l||(o=o.toLowerCase()),F&&(o=o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(u=-1===e.inArray(c,h)||t.text&&o===c)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+i,data:JSON.stringify({chk:i,pos:n,obj:!(!t||!t.id&&0!==t.id)&&t.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),u;case"create_node":return(u=-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+i,data:JSON.stringify({chk:i,pos:n,obj:!(!t||!t.id&&0!==t.id)&&t.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),u;case"copy_node":return(u=-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+i,data:JSON.stringify({chk:i,pos:n,obj:!(!t||!t.id&&0!==t.id)&&t.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),u;case"move_node":return(u=t.parent===s.id&&(!a||!a.is_multi)||-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+i,data:JSON.stringify({chk:i,pos:n,obj:!(!t||!t.id&&0!==t.id)&&t.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),u}return!0},this.create_node=function(i,s,n,a,u){if(!s||"object"==typeof s&&s.text===t){if(null===i&&(i=e.jstree.root),!(i=this.get_node(i)))return r.create_node.call(this,i,s,n,a,u);if(!(n=n===t?"last":n).toString().match(/^(before|after)$/)&&!u&&!this.is_loaded(i))return r.create_node.call(this,i,s,n,a,u);s||(s={});var d,o,c,h,l,F,_=this._model.data,g=this.settings.unique.case_sensitive,p=this.settings.unique.trim_whitespace,f=this.settings.unique.duplicate;for(o=d=this.get_string("New node"),c=[],h=0,l=i.children.length;h<l;h++)F=_[i.children[h]].text,g||(F=F.toLowerCase()),p&&(F=F.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),c.push(F);for(h=1,F=o,g||(F=F.toLowerCase()),p&&(F=F.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(F,c);)F=o=f.call(this,d,++h).toString(),g||(F=F.toLowerCase()),p&&(F=F.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));s.text=o}return r.create_node.call(this,i,s,n,a,u)}})}));
//# sourceMappingURL=/sm/aef82b2f935ffe27909ed78dc278e130f24e67ef68e367bdb869359f802f4659.map